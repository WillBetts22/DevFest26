import type { ResponseFormatJSONSchema } from "../resources/shared.js";
import { type AutoParseableResponseFormat, type AutoParseableTool } from "../lib/parser.js";
/**
 * Creates a response format object from a Zod schema for structured outputs.
 *
 * If this is passed to the `.parse()` method, the response message will contain a
 * `.parsed` property that is the result of parsing the content with the given Zod schema.
 *
 * This can be passed directly to `.create()` but will not result in automatic parsing.
 *
 * @example
 * ```ts
 * import { z } from 'zod';
 * import { zodResponseFormat } from 'dedalus-labs/helpers/zod';
 *
 * const MathAnswer = z.object({
 *   steps: z.array(z.object({
 *     explanation: z.string(),
 *     answer: z.string(),
 *   })),
 *   final_answer: z.string(),
 * });
 *
 * const completion = await client.chat.completions.parse({
 *   model: 'openai/gpt-5-nano',
 *   messages: [
 *     { role: 'system', content: 'You are a helpful math tutor.' },
 *     { role: 'user', content: 'solve 8x + 31 = 2' },
 *   ],
 *   response_format: zodResponseFormat(MathAnswer, 'math_answer'),
 * });
 *
 * const parsed = completion.choices[0]?.message.parsed;
 * console.log(parsed?.final_answer);
 * ```
 *
 * @param zodObject - The Zod schema to use for validation
 * @param name - A name for the schema (required by the API)
 * @param props - Additional properties for the response format
 * @returns An auto-parseable response format
 */
type ZodType = {
    _def: unknown;
    parse(value: unknown): unknown;
};
export declare function zodResponseFormat<ZodInput extends ZodType>(zodObject: ZodInput, name: string, props?: Omit<ResponseFormatJSONSchema.JSONSchema, 'schema' | 'strict' | 'name'>): AutoParseableResponseFormat<ReturnType<ZodInput['parse']>>;
/**
 * Creates a function tool that can be auto-parsed by the SDK.
 *
 * The Zod schema will be automatically converted to JSON Schema when passed to the API.
 * The function's input arguments will also be validated against the provided schema.
 *
 * @example
 * ```ts
 * import { z } from 'zod';
 * import { zodFunction } from 'dedalus-labs/helpers/zod';
 *
 * const GetWeather = zodFunction({
 *   name: 'get_weather',
 *   parameters: z.object({
 *     location: z.string(),
 *     unit: z.enum(['celsius', 'fahrenheit']),
 *   }),
 *   description: 'Get the current weather in a location',
 *   function: async (args) => {
 *     // args is typed as { location: string; unit: 'celsius' | 'fahrenheit' }
 *     const weather = await fetchWeather(args.location, args.unit);
 *     return JSON.stringify(weather);
 *   },
 * });
 *
 * const completion = await client.chat.completions.parse({
 *   model: 'openai/gpt-5-nano',
 *   messages: [{ role: 'user', content: 'What is the weather in SF?' }],
 *   tools: [GetWeather],
 * });
 *
 * const toolCall = completion.choices[0]?.message.tool_calls?.[0];
 * console.log(toolCall?.function.parsed_arguments);
 * ```
 *
 * @param options - Tool configuration
 * @param options.name - The name of the function
 * @param options.parameters - Zod schema for the function parameters
 * @param options.description - Description of what the function does
 * @param options.function - Optional function implementation
 * @returns An auto-parseable tool
 */
export declare function zodFunction<Parameters extends ZodType>(options: {
    name: string;
    parameters: Parameters;
    description?: string;
    function?: ((args: ReturnType<Parameters['parse']>) => unknown | Promise<unknown>) | undefined;
}): AutoParseableTool<{
    name: string;
    arguments: ReturnType<Parameters['parse']>;
    function?: Function;
}>;
export {};
//# sourceMappingURL=zod.d.ts.map